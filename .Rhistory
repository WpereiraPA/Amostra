cat("Separe os valores por vírgula (ex: 3.77, 3.85, 4.07)\n")
entrada2 <- readline(prompt = "> ")
var2 <- as.numeric(strsplit(entrada2, ",")[[1]])
# Validação
if (length(var1) != length(var2)) {
cat("\nERRO: As duas variáveis devem ter o mesmo número de valores!\n")
return(NULL)
}
# Executar teste t pareado
resultado <- t.test(var1, var2, paired = TRUE)
# Gerar interpretação
if (resultado$p.value >= 0.05) {
interpretacao <- paste(
"Aceita-se a hipótese nula de igualdade entre as médias (p =",
round(resultado$p.value, 4),
", t =", round(resultado$statistic, 4), ").",
"Não há diferença estatística significativa."
)
} else {
interpretacao <- paste(
"Rejeita-se a hipótese nula. Existe diferença estatística significativa entre as médias (p =",
round(resultado$p.value, 4), ", t =", round(resultado$statistic, 4), ")."
)
}
# Exibir resultado
cat("\n========================================\n")
cat("RESULTADO DO TESTE T PAREADO\n")
cat("========================================\n\n")
cat("Estatística t:", round(resultado$statistic, 4), "\n")
cat("Graus de liberdade:", resultado$parameter, "\n")
cat("P-valor:", round(resultado$p.value, 4), "\n")
cat("Diferença média:", round(resultado$estimate, 4), "\n\n")
cat("Interpretação:\n", interpretacao, "\n\n")
# Salvar no Environment
assign("interpretacao", interpretacao, envir = .GlobalEnv)
assign("resultado_teste", resultado, envir = .GlobalEnv)
cat("Objetos salvos no Environment: 'interpretacao' e 'resultado_teste'\n")
return(invisible(resultado))
}
# ====================================================
# EXECUTAR A FUNÇÃO
# ====================================================
teste_t_interativo()
teste_t_interativo <- function() {
cat("========================================\n")
cat("  TESTE T PAREADO COM INTERPRETAÇÃO\n")
cat("========================================\n\n")
# Entrada da primeira variável
cat("Digite os valores da primeira variável (Variável A, Medida 1)\n")
cat("Separe os valores por vírgula (ex: 4.05, 3.69, 4.10)\n")
entrada1 <- readline(prompt = "> ")
var1 <- as.numeric(strsplit(entrada1, ",")[[1]])
cat("\nDigite os valores da segunda variável (Variável B, Medida 2)\n")
cat("Separe os valores por vírgula (ex: 3.77, 3.85, 4.07)\n")
entrada2 <- readline(prompt = "> ")
var2 <- as.numeric(strsplit(entrada2, ",")[[1]])
# Validação
if (length(var1) != length(var2)) {
cat("\nERRO: As duas variáveis devem ter o mesmo número de valores!\n")
return(NULL)
}
# Executar teste t pareado
resultado <- t.test(var1, var2, paired = TRUE)
# Gerar interpretação
if (resultado$p.value >= 0.05) {
interpretacao <- paste(
"Aceita-se a hipótese nula de igualdade entre as médias (p =",
round(resultado$p.value, 4),
", t =", round(resultado$statistic, 4), ").",
"Não há diferença estatística significativa."
)
} else {
interpretacao <- paste(
"Rejeita-se a hipótese nula. Existe diferença estatística significativa entre as médias (p =",
round(resultado$p.value, 4), ", t =", round(resultado$statistic, 4), ")."
)
}
# Exibir resultado
cat("\n========================================\n")
cat("RESULTADO DO TESTE T PAREADO\n")
cat("========================================\n\n")
cat("Estatística t:", round(resultado$statistic, 4), "\n")
cat("Graus de liberdade:", resultado$parameter, "\n")
cat("P-valor:", round(resultado$p.value, 4), "\n")
cat("Diferença média:", round(resultado$estimate, 4), "\n\n")
cat("Interpretação:\n", interpretacao, "\n\n")
# Salvar no Environment
assign("interpretacao", interpretacao, envir = .GlobalEnv)
assign("resultado_teste", resultado, envir = .GlobalEnv)
cat("Objetos salvos no Environment: 'interpretacao' e 'resultado_teste'\n")
return(invisible(resultado))
}
# ====================================================
# EXECUTAR A FUNÇÃO
# ====================================================
teste_t_interativo()
remotes::install_github("WpereiraPA/Amostra")
teste_t_interativo()
pkgbuild::check_build_tools(debug = TRUE)
teste_t_interativo()
git push
library(Namostraz)
teste_t_interativo()
remotes::install_github("WpereiraPA/Amostra")
alc_tamanho_amostra_interativa <- function() {
# Solicita os parâmetros ao usuário via console
conf.level <- as.numeric(readline(prompt="Digite o nível de confiança (ex: 0.95 para
95%): "))
s <- as.numeric(readline(prompt="Digite o desvio padrão populacional: "))
E <- as.numeric(readline(prompt="Digite o erro máximo permitido (E): "))
# Calcula o valor crítico Z a partir do nível de confiança
alpha <- 1 - conf.level
Z <- qnorm(1 - alpha / 2)
# Calcula o tamanho da amostra
N <- ((Z * s) / E)^2
# Exibe o resultado
cat("Tamanho calculado foi N =", format(round(N, 1), nsmall = 1), "\n")
return(N)
}
calc_tamanho_amostra_interativa()
libray(Namostraz)
library(Namostraz)
calc_tamanho_amostra_interativa()
devtools::load_all()
calc_tamanho_amostra_interativa()
library(Namostraz)
calc_tamanho_amostra_interativa()
calc_tamanho_amostra_interativa <- function() {
# Solicita os parâmetros ao usuário via console
conf.level <- as.numeric(readline(prompt="Digite o nível de confiança (ex: 0.95 para
95%): "))
s <- as.numeric(readline(prompt="Digite o desvio padrão populacional: "))
E <- as.numeric(readline(prompt="Digite o erro máximo permitido (E): "))
# Calcula o valor crítico Z a partir do nível de confiança
alpha <- 1 - conf.level
Z <- qnorm(1 - alpha / 2)
# Calcula o tamanho da amostra
N <- ((Z * s) / E)^2
# Exibe o resultado
cat("Tamanho calculado foi N =", format(round(N, 1), nsmall = 1), "\n")
return(N)
}
return(N)
# Solicita os parâmetros ao usuário via console
conf.level <- as.numeric(readline(prompt="Digite o nível de confiança (ex: 0.95 para
95%): "))
E <- as.numeric(readline(prompt="Digite o erro máximo permitido (E): "))
# Calcula o valor crítico Z a partir do nível de confiança
alpha <- 1 - conf.level
Z <- qnorm(1 - alpha / 2)
# Calcula o tamanho da amostra
N <- ((Z * s) / E)^2
calc_tamanho_amostra_interativa()
calc_tamanho_amostra_interativa()
remotes::install_github("WpereiraPA/Namostraz")
install(remotes)
install.packages("remotes")
remotes::install_github("WpereiraPA/Namostraz")
remotes::install_github("WpereiraPA/Amostra")
remotes::install_github("WpereiraPA/Amostra")
remotes::install_github("WpereiraPA/Amostra")
remotes::install_github("SeuUsuario/MeuSegundoPacote")
remotes::install_github("WpereiraPA/Amostra")
remotes::install_github("WpereiraPA/Amostra")
:  calc_tamanho_amostra_interativa()
library(Namostraz)
calc_tamanho_amostra_interativa( )
calc_tamanho_amostra_interativa( )
calc_tamanho_amostra_interativa()
calc_tamanho_amostra_interativa <- function() {
cat("\n========================================\n")
cat("  CÁLCULO DE TAMANHO DE AMOSTRA (t)\n")
cat("========================================\n")
cat("Distribuição: t de Student (iterativo)\n")
cat("Tipo: Estimação da média quando σ é desconhecido\n")
cat("========================================\n\n")
# Leitura segura com verificação
read_num <- function(prompt_text) {
repeat {
x <- readline(prompt = paste0(prompt_text, " "))
x_num <- suppressWarnings(as.numeric(x))
if (!is.na(x_num)) return(x_num)
cat("Entrada inválida. Digite um número (use ponto para decimais).\n")
}
}
conf.level <- read_num("1) Digite o nível de confiança (ex: 0.95 para 95%):")
s <- read_num("2) Digite o desvio padrão amostral estimado (s):")
E <- read_num("3) Digite o erro máximo permitido (E):")
cat("\nSe você já tem um n piloto (amostras do estudo piloto), digite-o; senão, deixe vazio e pressione Enter.\n")
n_piloto_str <- readline(prompt = "4) n piloto (opcional): ")
n_piloto <- suppressWarnings(as.numeric(n_piloto_str))
if (is.na(n_piloto) || n_piloto < 2) n_piloto <- NA
alpha <- 1 - conf.level
# início da iteração: se há n_piloto usamos df = n_piloto-1, senão começamos com Z
if (!is.na(n_piloto)) {
t_value <- qt(1 - alpha/2, df = max(1, ceiling(n_piloto) - 1))
} else {
t_value <- qnorm(1 - alpha/2) # aproximação inicial com Z
}
# Iterar até convergir (critério: teto de N não muda) ou limite de iterações
teto_antigo <- Inf
for (i in 1:50) {
N_est <- ((t_value * s) / E)^2
teto_novo <- ceiling(N_est)
df <- max(1, teto_novo - 1)
t_value <- qt(1 - alpha/2, df = df)
if (teto_novo == teto_antigo) break
teto_antigo <- teto_novo
}
# Resultado final
cat("\n========================================\n")
cat("RESULTADO FINAL\n")
cat("========================================\n")
cat(sprintf("N estimado (não inteiro): %.4f\n", N_est))
cat(sprintf("N arredondado para cima (recomendado): %d\n", ceiling(N_est)))
cat(sprintf("Valor crítico t usado (df = %d): %.4f\n", df, round(t_value,4)))
if (!is.na(n_piloto)) cat(sprintf("n piloto informado: %d\n", n_piloto))
cat("========================================\n\n")
invisible(list(N = N_est, N_arredondado = ceiling(N_est), t = t_value, df = df))
}
calc_tamanho_amostra_interativa()
library("Namostraz")
calc_tamanho_amostra_interativa()
calc_tamanho_amostra_interativa <- function() {
# Solicita os parâmetros ao usuário via console
conf.level <- as.numeric(readline(prompt="Digite o nível de confiança (ex: 0.95 para
95%): "))
s <- as.numeric(readline(prompt="Digite o desvio padrão populacional: "))
E <- as.numeric(readline(prompt="Digite o erro máximo permitido (E): "))
# Calcula o valor crítico Z a partir do nível de confiança
alpha <- 1 - conf.level
Z <- qnorm(1 - alpha / 2)
# Calcula o tamanho da amostra
N <- ((Z * s) / E)^2
# Exibe o resultado
cat("Tamanho calculado foi N =", format(round(N, 1), nsmall = 1), "\n")
return(N)
}
calc_tamanho_amostra_interativa <- function() {
# Solicita os parâmetros ao usuário via console
conf.level <- as.numeric(readline(prompt="Digite o nível de confiança (ex: 0.95 para
95%): "))
s <- as.numeric(readline(prompt="Digite o desvio padrão populacional: "))
E <- as.numeric(readline(prompt="Digite o erro máximo permitido (E): "))
# Calcula o valor crítico Z a partir do nível de confiança
alpha <- 1 - conf.level
Z <- qnorm(1 - alpha / 2)
# Calcula o tamanho da amostra
N <- ((Z * s) / E)^2
# Exibe o resultado
cat("Tamanho calculado foi N =", format(round(N, 1), nsmall = 1), "\n")
return(N)
}
calc_tamanho_amostra_interativa()
95%): "))
calc_tamanho_amostra_interativa <- function() {
# Solicita os parâmetros ao usuário via console
conf.level <- as.numeric(readline(prompt = "Digite o nível de confiança (ex: 0.95 para 95%): "))
s <- as.numeric(readline(prompt = "Digite o desvio padrão amostral: "))
E <- as.numeric(readline(prompt = "Digite o erro máximo permitido (E): "))
# Pergunta ao usuário qual distribuição usar
cat("\nEscolha a distribuição:\n")
cat("1 - Distribuição Normal (Z) - usar quando n > 30 ou σ conhecido\n")
cat("2 - Distribuição t de Student - usar quando n < 30 ou σ desconhecido\n")
opcao <- as.numeric(readline(prompt = "Digite sua opção (1 ou 2): "))
alpha <- 1 - conf.level
if (opcao == 1) {
# Usa distribuição Normal (Z)
Z <- qnorm(1 - alpha / 2)
N <- ((Z * s) / E)^2
cat("\n=== Resultado usando Distribuição Normal ===\n")
cat("Valor crítico Z =", round(Z, 4), "\n")
cat("Tamanho calculado da amostra N =", ceiling(N), "\n")
} else if (opcao == 2) {
# Usa distribuição t com processo iterativo
cat("\n=== Calculando com Distribuição t (processo iterativo) ===\n")
# Estimativa inicial usando Z
Z <- qnorm(1 - alpha / 2)
n_inicial <- ((Z * s) / E)^2
# Processo iterativo
n_atual <- n_inicial
max_iter <- 100
tolerancia <- 0.01
for (i in 1:max_iter) {
gl <- n_atual - 1  # graus de liberdade
t_critico <- qt(1 - alpha / 2, df = gl)
n_novo <- ((t_critico * s) / E)^2
# Verifica convergência
if (abs(n_novo - n_atual) < tolerancia) {
cat("Convergência alcançada na iteração", i, "\n")
break
}
n_atual <- n_novo
}
N <- ceiling(n_novo)
t_final <- qt(1 - alpha / 2, df = N - 1)
cat("Graus de liberdade (n-1) =", N - 1, "\n")
cat("Valor crítico t =", round(t_final, 4), "\n")
cat("Tamanho calculado da amostra N =", N, "\n")
} else {
cat("Opção inválida!\n")
return(NULL)
}
cat("\nObservação: O valor foi arredondado para cima para garantir o nível de confiança.\n")
return(invisible(N))
}
calc_tamanho_amostra_interativa()
alc_tamanho_amostra_interativa <- function() {
cat("=== CÁLCULO DE TAMANHO DE AMOSTRA ===\n\n")
# Solicita os parâmetros ao usuário
conf.level <- as.numeric(readline(prompt = "Digite o nível de confiança (ex: 0.95 para 95%): "))
s <- as.numeric(readline(prompt = "Digite o desvio padrão: "))
E <- as.numeric(readline(prompt = "Digite o erro máximo permitido (E): "))
alpha <- 1 - conf.level
# Pergunta qual distribuição usar
cat("\nEscolha a distribuição:\n")
cat("1 - Normal (Z) - usar quando n > 30 ou σ populacional conhecido\n")
cat("2 - t de Student - quando n < 30 ou usando desvio padrão amostral\n")
opcao <- as.numeric(readline(prompt = "Digite sua opção (1 ou 2): "))
if (opcao == 1) {
# ===== DISTRIBUIÇÃO NORMAL (Z) =====
Z <- qnorm(1 - alpha / 2)
N <- ((Z * s) / E)^2
cat("\n=== RESULTADO - Distribuição Normal ===\n")
cat("Valor crítico Z =", round(Z, 4), "\n")
cat("Tamanho da amostra N =", ceiling(N), "\n")
return(invisible(ceiling(N)))
} else if (opcao == 2) {
# ===== DISTRIBUIÇÃO t DE STUDENT =====
cat("\n--- Para usar a distribuição t, precisamos do tamanho da amostra ---\n")
cat("Escolha uma opção:\n")
cat("1 - Já conheço o tamanho da amostra (n)\n")
cat("2 - Usar estimativa inicial com Z e iterar\n")
cat("3 - Testar diferentes valores de n\n")
opcao_t <- as.numeric(readline(prompt = "Digite sua opção (1, 2 ou 3): "))
if (opcao_t == 1) {
# Usuário fornece o n
n_conhecido <- as.numeric(readline(prompt = "\nDigite o tamanho da amostra (n): "))
gl <- n_conhecido - 1
t_critico <- qt(1 - alpha / 2, df = gl)
N <- ((t_critico * s) / E)^2
cat("\n=== RESULTADO - Distribuição t ===\n")
cat("Tamanho da amostra fornecido: n =", n_conhecido, "\n")
cat("Graus de liberdade (gl) =", gl, "\n")
cat("Valor crítico t =", round(t_critico, 4), "\n")
cat("Tamanho calculado N =", round(N, 2), "\n")
cat("Tamanho arredondado N =", ceiling(N), "\n")
if (ceiling(N) != n_conhecido) {
cat("\n*** ATENÇÃO: O n calculado (", ceiling(N),
") difere do n fornecido (", n_conhecido, ") ***\n", sep = "")
cat("Recomenda-se recalcular usando n =", ceiling(N), "\n")
}
return(invisible(ceiling(N)))
} else if (opcao_t == 2) {
# Processo iterativo
cat("\n=== Calculando por processo iterativo ===\n")
Z <- qnorm(1 - alpha / 2)
n_atual <- ((Z * s) / E)^2
cat("Estimativa inicial (usando Z): n =", round(n_atual, 2), "\n\n")
max_iter <- 50
tolerancia <- 0.001
for (i in 1:max_iter) {
gl <- n_atual - 1
t_critico <- qt(1 - alpha / 2, df = gl)
n_novo <- ((t_critico * s) / E)^2
cat("Iteração", i, ": n =", round(n_novo, 2),
", t =", round(t_critico, 4),
", gl =", round(gl, 0), "\n")
if (abs(n_novo - n_atual) < tolerancia) {
cat("\nConvergência alcançada!\n")
break
}
n_atual <- n_novo
}
N <- ceiling(n_novo)
t_final <- qt(1 - alpha / 2, df = N - 1)
cat("\n=== RESULTADO FINAL ===\n")
cat("Tamanho da amostra N =", N, "\n")
cat("Graus de liberdade (gl) =", N - 1, "\n")
cat("Valor crítico t =", round(t_final, 4), "\n")
return(invisible(N))
} else if (opcao_t == 3) {
# Testa diferentes valores de n
cat("\n=== Testando diferentes tamanhos de amostra ===\n\n")
valores_n <- c(10, 15, 20, 25, 30, 40, 50)
cat(sprintf("%-6s %-6s %-10s %-12s\n", "n", "gl", "t", "N calculado"))
cat(strrep("-", 40), "\n")
for (n_test in valores_n) {
gl <- n_test - 1
t_critico <- qt(1 - alpha / 2, df = gl)
N_calc <- ((t_critico * s) / E)^2
cat(sprintf("%-6d %-6d %-10.4f %-12.2f\n",
n_test, gl, t_critico, N_calc))
}
cat("\nDigite um valor específico de n para calcular:\n")
n_especifico <- as.numeric(readline(prompt = "n = "))
gl <- n_especifico - 1
t_critico <- qt(1 - alpha / 2, df = gl)
N <- ((t_critico * s) / E)^2
cat("\n=== RESULTADO para n =", n_especifico, "===\n")
cat("Graus de liberdade (gl) =", gl, "\n")
cat("Valor crítico t =", round(t_critico, 4), "\n")
cat("Tamanho calculado N =", round(N, 2), "\n")
cat("Tamanho arredondado N =", ceiling(N), "\n")
return(invisible(ceiling(N)))
} else {
cat("Opção inválida!\n")
return(NULL)
}
} else {
cat("Opção inválida!\n")
return(NULL)
}
}
calc_tamanho_amostra_interativa ()
calc_tamanho_amostra_interativa <- function() {
# Solicita os parâmetros ao usuário via console
conf.level <- as.numeric(readline(prompt = "Digite o nível de confiança (ex: 0.95 para 95%): "))
s <- as.numeric(readline(prompt = "Digite o desvio padrão: "))
E <- as.numeric(readline(prompt = "Digite o erro máximo permitido (E): "))
n <- as.numeric(readline(prompt = "Digite o tamanho da amostra (n): "))
# Calcula o valor crítico t a partir do nível de confiança e tamanho da amostra
alpha <- 1 - conf.level
gl <- n - 1  # graus de liberdade
t <- qt(1 - alpha / 2, df = gl)
# Calcula o tamanho da amostra
N <- ((t * s) / E)^2
# Exibe o resultado
cat("Graus de liberdade (gl) =", gl, "\n")
cat("Valor crítico t =", round(t, 4), "\n")
cat("Tamanho calculado foi N =", format(round(N, 1), nsmall = 1), "\n")
return(N)
}
calc_tamanho_amostra_interativa()
devtools::load_all()
devtools::document()
devtools::install()
library(Namostraz)
rm(list = ls())
library(Namostraz)
calc_tamanho_amostra_interativa()
calc_tamanho_amostra_interativa <- function() {
# Solicita os par?metros ao usu?rio via console
conf.level <- as.numeric(readline(prompt = "Digite o n?vel de confian?a (ex: 0.95 para 95%): "))
s <- as.numeric(readline(prompt = "Digite o desvio padr?o: "))
E <- as.numeric(readline(prompt = "Digite o erro m?ximo permitido (E): "))
n <- as.numeric(readline(prompt = "Digite o tamanho da amostra (n): "))
# Calcula o valor cr?tico t a partir do n?vel de confian?a e tamanho da amostra
alpha <- 1 - conf.level
gl <- n - 1  # graus de liberdade
t <- qt(1 - alpha / 2, df = gl)
# Calcula o tamanho da amostra
N <- ((t * s) / E)^2
# Exibe o resultado
cat("Graus de liberdade (gl) =", gl, "\n")
cat("Valor cr?tico t =", round(t, 4), "\n")
cat("Tamanho calculado foi N =", format(round(N, 1), nsmall = 1), "\n")
return(N)
}
devtools::install()
library(Namostraz)
calc_tamanho_amostra_interativa()
devtools::install()
library(Namostraz)
calc_tamanho_amostra_interativa()
library(Namostraz)
calc_tamanho_amostra_interativa()
devtools::document()
devtools::install()
library(Namostraz)
calc_tamanho_amostra_interativa()
devtools::install()
rm(list = ls())
library(Namostraz)
calc_tamanho_amostra_interativa()
conf.level <- as.numeric(readline(prompt = "Digite o nível de confiança (ex: 0.95 para 95%): "))
E <- as.numeric(readline(prompt = "Digite o erro máximo permitido (E): "))
# Calcula o valor crítico t a partir do nível de confiança e tamanho da amostra
alpha <- 1 - conf.level
gl <- n - 1  # graus de liberdade
calc_tamanho_amostra_interativa <- function() {
# Solicita os parâmetros ao usuário via console
conf.level <- as.numeric(readline(prompt = "Digite o nível de confiança (ex: 0.95 para 95%): "))
s <- as.numeric(readline(prompt = "Digite o desvio padrão: "))
E <- as.numeric(readline(prompt = "Digite o erro máximo permitido (E): "))
n <- as.numeric(readline(prompt = "Digite o tamanho da amostra (n): "))
# Calcula o valor crítico t a partir do nível de confiança e tamanho da amostra
alpha <- 1 - conf.level
gl <- n - 1  # graus de liberdade
t <- qt(1 - alpha / 2, df = gl)
# Calcula o tamanho da amostra
N <- ((t * s) / E)^2
# Exibe o resultado
cat("Graus de liberdade (gl) =", gl, "\n")
cat("Valor crítico t =", round(t, 4), "\n")
cat("Tamanho calculado foi N =", format(round(N, 1), nsmall = 1), "\n")
return(N)
}
devtools::install()
n <- as.numeric(readline(prompt = "Digite o tamanho da amostra (n): "))
calc_tamanho_amostra_interativa()
library(Namostraz)
calc_tamanho_amostra_interativa( )
devtools::install()
calc_tamanho_amostra_interativa( )
devtools::install()
library(Namostraz)
calc_tamanho_amostra_interativa( )
calc_tamanho_amostra_interativa( )
calc_tamanho_amostra_interativa( )
devtools::install()
library(Namostraz)
